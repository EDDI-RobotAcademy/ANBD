<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="resumeMapper">
<!-- 알바 구인 게시물 작성 -->
<insert id="insert" parameterType="ResumeVO">
INSERT INTO RESUME_BOARD
(ID, R_BNO, R_NAME, R_GENDER, R_AGE, R_TEL, R_COMPANY1, R_START1, R_END1, 
	R_COMPANY2, R_START2, R_END2, R_COMPANY3, R_START3, R_END3, 
	J_BNO)
VALUES(#{id}, RESUME_BOARD_SEQ.NEXTVAL, #{r_name}, #{r_gender}, #{r_age}, #{r_tel}, 
	#{r_company1}, #{r_start1}, #{r_end1}, #{r_company2}, #{r_start2}, #{r_end2}, #{r_company3}, #{r_start3}, #{r_end3}, 
	#{j_bno})
</insert>

<select id="listPage" resultType="ResumeVO" parameterType="java.util.Map">
SELECT J_BNO, R_BNO, R_NAME, R_GENDER, R_TEL, R_AGE, 
	R_COMPANY1, R_START1, R_END1, R_COMPANY2, R_START2, R_END2, R_COMPANY3, R_START3, R_END3, R_DATE
FROM(SELECT J_BNO, R_BNO, R_NAME, R_GENDER, R_TEL, R_AGE, R_COMPANY1, R_START1, R_END1,
	R_COMPANY2, R_START2, R_END2, R_COMPANY3, R_START3, R_END3, R_DATE,
    ROW_NUMBER() OVER(ORDER BY R_BNO ASC) AS RNUM
    FROM RESUME_BOARD) JOB
WHERE (RNUM BETWEEN #{rowStart} AND #{rowEnd}) AND (J_BNO = #{j_bno})
ORDER BY R_BNO ASC
</select>

<select id="listCount" resultType="int" parameterType="int">
SELECT COUNT(J_BNO) FROM RESUME_BOARD WHERE J_BNO = #{j_bno}
</select>

</mapper>